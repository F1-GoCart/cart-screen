import { View } from "react-native";
import { supabase } from "~/lib/supabase";
import { Text } from "~/components/ui/text";
import React from "react";
import QRCode from "react-native-qrcode-svg";

import {
  Card,
  CardContent,
  CardFooter,
  CardHeader,
  CardTitle,
} from "~/components/ui/card";
import { cart_id } from "~/lib/constants";
import Svg, { Path } from "react-native-svg";

export default function LoginScreen() {
  const startSession = async () => {
    const { error } = await supabase
      .from("shopping_carts")
      .update({ status: "in_use" })
      .eq("cart_id", cart_id);

    if (error) {
      console.error("Error updating status: ", error.message);
    }
  };

  return (
    <View className="items-center justify-between pt-20">
      <Svg width="155" height="128" viewBox="0 0 155 128" fill="none">
        <Path
          d="M13.472 107.384C6.496 107.384 1.696 102.488 1.696 95.864V95.8C1.696 89.432 6.656 84.216 13.44 84.216C17.472 84.216 19.904 85.304 22.24 87.288L19.136 91.032C17.408 89.592 15.872 88.76 13.28 88.76C9.696 88.76 6.848 91.928 6.848 95.736V95.8C6.848 99.896 9.664 102.904 13.632 102.904C15.424 102.904 17.024 102.456 18.272 101.56V98.36H13.312V94.104H23.04V103.832C20.736 105.784 17.568 107.384 13.472 107.384ZM38.6618 107.384C31.7498 107.384 26.7898 102.232 26.7898 95.864V95.8C26.7898 89.432 31.8138 84.216 38.7258 84.216C45.6378 84.216 50.5978 89.368 50.5978 95.736V95.8C50.5978 102.168 45.5738 107.384 38.6618 107.384ZM38.7258 102.84C42.6938 102.84 45.4458 99.704 45.4458 95.864V95.8C45.4458 91.96 42.6298 88.76 38.6618 88.76C34.6938 88.76 31.9418 91.896 31.9418 95.736V95.8C31.9418 99.64 34.7578 102.84 38.7258 102.84ZM75.059 107.384C68.467 107.384 63.571 102.296 63.571 95.864V95.8C63.571 89.432 68.371 84.216 75.251 84.216C79.475 84.216 82.003 85.624 84.083 87.672L80.947 91.288C79.219 89.72 77.459 88.76 75.219 88.76C71.443 88.76 68.723 91.896 68.723 95.736V95.8C68.723 99.64 71.379 102.84 75.219 102.84C77.779 102.84 79.347 101.816 81.107 100.216L84.243 103.384C81.939 105.848 79.379 107.384 75.059 107.384ZM86.268 107L95.868 84.44H100.412L110.012 107H104.86L102.812 101.976H93.34L91.292 107H86.268ZM95.1 97.624H101.052L98.076 90.36L95.1 97.624ZM113.469 107V84.6H123.709C126.557 84.6 128.765 85.4 130.237 86.872C131.485 88.12 132.157 89.88 132.157 91.992V92.056C132.157 95.672 130.205 97.944 127.357 99L132.829 107H127.069L122.269 99.832H118.397V107H113.469ZM118.397 95.48H123.389C125.789 95.48 127.165 94.2 127.165 92.312V92.248C127.165 90.136 125.693 89.048 123.293 89.048H118.397V95.48ZM141.81 107V89.144H134.994V84.6H153.554V89.144H146.738V107H141.81Z"
          fill="#0FA958"
        />
        <Path
          d="M6.35 125.1C5.28 125.1 4.27 124.73 3.43 123.98L4.17 123.1C4.84 123.68 5.51 124.01 6.38 124.01C7.14 124.01 7.62 123.66 7.62 123.13V123.11C7.62 122.61 7.34 122.34 6.04 122.04C4.55 121.68 3.71 121.24 3.71 119.95V119.93C3.71 118.73 4.71 117.9 6.1 117.9C7.12 117.9 7.93 118.21 8.64 118.78L7.98 119.71C7.35 119.24 6.72 118.99 6.08 118.99C5.36 118.99 4.94 119.36 4.94 119.82V119.84C4.94 120.38 5.26 120.62 6.6 120.94C8.08 121.3 8.85 121.83 8.85 122.99V123.01C8.85 124.32 7.82 125.1 6.35 125.1ZM12.5765 125.12C11.0465 125.12 9.86648 124.01 9.86648 122.38V122.36C9.86648 120.85 10.9365 119.61 12.4465 119.61C14.1265 119.61 14.9765 120.93 14.9765 122.45C14.9765 122.56 14.9665 122.67 14.9565 122.79H11.0765C11.2065 123.65 11.8165 124.13 12.5965 124.13C13.1865 124.13 13.6065 123.91 14.0265 123.5L14.7365 124.13C14.2365 124.73 13.5465 125.12 12.5765 125.12ZM11.0665 121.99H13.7765C13.6965 121.21 13.2365 120.6 12.4365 120.6C11.6965 120.6 11.1765 121.17 11.0665 121.99ZM16.2616 125V117.7H17.4716V125H16.2616ZM19.323 125V120.76H18.653V119.75H19.323V119.37C19.323 118.78 19.473 118.34 19.753 118.06C20.033 117.78 20.423 117.64 20.943 117.64C21.363 117.64 21.653 117.7 21.923 117.78V118.8C21.683 118.72 21.473 118.67 21.213 118.67C20.753 118.67 20.513 118.92 20.513 119.47V119.76H21.913V120.76H20.533V125H19.323ZM29.2008 125.12C27.1608 125.12 25.6408 123.53 25.6408 121.52V121.5C25.6408 119.51 27.1308 117.88 29.2508 117.88C30.5408 117.88 31.3208 118.33 31.9908 118.97L31.2008 119.88C30.6408 119.36 30.0408 119.01 29.2408 119.01C27.9008 119.01 26.9308 120.11 26.9308 121.48V121.5C26.9308 122.87 27.9008 123.99 29.2408 123.99C30.1008 123.99 30.6508 123.64 31.2508 123.08L32.0408 123.88C31.3108 124.64 30.5108 125.12 29.2008 125.12ZM33.1936 125V117.7H34.4036V120.54C34.7436 120.04 35.2336 119.61 36.0536 119.61C37.2436 119.61 37.9336 120.41 37.9336 121.64V125H36.7236V122C36.7236 121.18 36.3136 120.71 35.5936 120.71C34.8936 120.71 34.4036 121.2 34.4036 122.02V125H33.1936ZM41.8148 125.12C40.2848 125.12 39.1048 124.01 39.1048 122.38V122.36C39.1048 120.85 40.1748 119.61 41.6848 119.61C43.3648 119.61 44.2148 120.93 44.2148 122.45C44.2148 122.56 44.2048 122.67 44.1948 122.79H40.3148C40.4448 123.65 41.0548 124.13 41.8348 124.13C42.4248 124.13 42.8448 123.91 43.2648 123.5L43.9748 124.13C43.4748 124.73 42.7848 125.12 41.8148 125.12ZM40.3048 121.99H43.0148C42.9348 121.21 42.4748 120.6 41.6748 120.6C40.9348 120.6 40.4148 121.17 40.3048 121.99ZM47.8699 125.12C46.2999 125.12 45.1399 123.89 45.1399 122.39V122.37C45.1399 120.87 46.2999 119.61 47.8799 119.61C48.8799 119.61 49.4999 119.98 49.9899 120.52L49.2399 121.33C48.8699 120.94 48.4799 120.67 47.8699 120.67C46.9899 120.67 46.3499 121.43 46.3499 122.35V122.37C46.3499 123.31 46.9999 124.07 47.9299 124.07C48.4999 124.07 48.9199 123.8 49.2999 123.41L50.0299 124.13C49.5099 124.71 48.8999 125.12 47.8699 125.12ZM51.1428 125V117.7H52.3528V122.06L54.5428 119.72H56.0128L53.9128 121.87L56.0828 125H54.6828L53.0928 122.72L52.3528 123.49V125H51.1428ZM59.2192 125.12C57.6092 125.12 56.4192 123.89 56.4192 122.39V122.37C56.4192 120.86 57.6192 119.61 59.2392 119.61C60.8592 119.61 62.0492 120.84 62.0492 122.35V122.37C62.0492 123.87 60.8492 125.12 59.2192 125.12ZM59.2392 124.07C60.2192 124.07 60.8392 123.3 60.8392 122.39V122.37C60.8392 121.44 60.1692 120.67 59.2192 120.67C58.2492 120.67 57.6292 121.43 57.6292 122.35V122.37C57.6292 123.29 58.2992 124.07 59.2392 124.07ZM65.1015 125.11C63.9115 125.11 63.2215 124.31 63.2215 123.08V119.72H64.4315V122.72C64.4315 123.54 64.8415 124.01 65.5615 124.01C66.2615 124.01 66.7515 123.52 66.7515 122.7V119.72H67.9615V125H66.7515V124.18C66.4115 124.68 65.9215 125.11 65.1015 125.11ZM71.2527 125.09C70.3627 125.09 69.7327 124.7 69.7327 123.54V120.76H69.0627V119.72H69.7327V118.27H70.9427V119.72H72.3627V120.76H70.9427V123.35C70.9427 123.82 71.1827 124.01 71.5927 124.01C71.8627 124.01 72.1027 123.95 72.3427 123.83V124.82C72.0427 124.99 71.7027 125.09 71.2527 125.09ZM79.1723 125.1C78.1023 125.1 77.0923 124.73 76.2523 123.98L76.9923 123.1C77.6623 123.68 78.3323 124.01 79.2023 124.01C79.9623 124.01 80.4423 123.66 80.4423 123.13V123.11C80.4423 122.61 80.1623 122.34 78.8623 122.04C77.3723 121.68 76.5323 121.24 76.5323 119.95V119.93C76.5323 118.73 77.5323 117.9 78.9223 117.9C79.9423 117.9 80.7523 118.21 81.4623 118.78L80.8023 119.71C80.1723 119.24 79.5423 118.99 78.9023 118.99C78.1823 118.99 77.7623 119.36 77.7623 119.82V119.84C77.7623 120.38 78.0823 120.62 79.4223 120.94C80.9023 121.3 81.6723 121.83 81.6723 122.99V123.01C81.6723 124.32 80.6423 125.1 79.1723 125.1ZM82.9788 125V117.7H84.1888V120.54C84.5288 120.04 85.0188 119.61 85.8388 119.61C87.0288 119.61 87.7188 120.41 87.7188 121.64V125H86.5088V122C86.5088 121.18 86.0988 120.71 85.3788 120.71C84.6788 120.71 84.1888 121.2 84.1888 122.02V125H82.9788ZM91.6899 125.12C90.0799 125.12 88.8899 123.89 88.8899 122.39V122.37C88.8899 120.86 90.0899 119.61 91.7099 119.61C93.3299 119.61 94.5199 120.84 94.5199 122.35V122.37C94.5199 123.87 93.3199 125.12 91.6899 125.12ZM91.7099 124.07C92.6899 124.07 93.3099 123.3 93.3099 122.39V122.37C93.3099 121.44 92.6399 120.67 91.6899 120.67C90.7199 120.67 90.0999 121.43 90.0999 122.35V122.37C90.0999 123.29 90.7699 124.07 91.7099 124.07ZM95.7522 126.6V119.72H96.9622V120.6C97.3522 120.05 97.9022 119.61 98.7522 119.61C100.002 119.61 101.212 120.6 101.212 122.35V122.37C101.212 124.12 100.012 125.11 98.7522 125.11C97.8822 125.11 97.3322 124.67 96.9622 124.18V126.6H95.7522ZM98.4722 124.06C99.3022 124.06 99.9822 123.41 99.9822 122.37V122.35C99.9822 121.33 99.2922 120.66 98.4722 120.66C97.6522 120.66 96.9322 121.34 96.9322 122.35V122.37C96.9322 123.39 97.6522 124.06 98.4722 124.06ZM102.451 126.6V119.72H103.661V120.6C104.051 120.05 104.601 119.61 105.451 119.61C106.701 119.61 107.911 120.6 107.911 122.35V122.37C107.911 124.12 106.711 125.11 105.451 125.11C104.581 125.11 104.031 124.67 103.661 124.18V126.6H102.451ZM105.171 124.06C106.001 124.06 106.681 123.41 106.681 122.37V122.35C106.681 121.33 105.991 120.66 105.171 120.66C104.351 120.66 103.631 121.34 103.631 122.35V122.37C103.631 123.39 104.351 124.06 105.171 124.06ZM109.171 118.91V117.76H110.471V118.91H109.171ZM109.221 125V119.72H110.431V125H109.221ZM112.012 125V119.72H113.222V120.54C113.562 120.04 114.052 119.61 114.872 119.61C116.062 119.61 116.752 120.41 116.752 121.64V125H115.542V122C115.542 121.18 115.132 120.71 114.412 120.71C113.712 120.71 113.222 121.2 113.222 122.02V125H112.012ZM120.563 126.62C119.693 126.62 118.883 126.4 118.203 125.99L118.653 125.08C119.213 125.43 119.813 125.64 120.533 125.64C121.613 125.64 122.203 125.08 122.203 124.02V123.61C121.763 124.18 121.213 124.58 120.343 124.58C119.103 124.58 117.943 123.66 117.943 122.11V122.09C117.943 120.53 119.113 119.61 120.343 119.61C121.233 119.61 121.783 120.02 122.193 120.51V119.72H123.403V123.92C123.403 124.81 123.173 125.47 122.733 125.91C122.253 126.39 121.513 126.62 120.563 126.62ZM120.663 123.56C121.503 123.56 122.213 122.96 122.213 122.11V122.09C122.213 121.22 121.503 120.63 120.663 120.63C119.823 120.63 119.163 121.21 119.163 122.08V122.1C119.163 122.97 119.833 123.56 120.663 123.56ZM131.3 125.12C129.26 125.12 127.74 123.53 127.74 121.52V121.5C127.74 119.51 129.23 117.88 131.35 117.88C132.64 117.88 133.42 118.33 134.09 118.97L133.3 119.88C132.74 119.36 132.14 119.01 131.34 119.01C130 119.01 129.03 120.11 129.03 121.48V121.5C129.03 122.87 130 123.99 131.34 123.99C132.2 123.99 132.75 123.64 133.35 123.08L134.14 123.88C133.41 124.64 132.61 125.12 131.3 125.12ZM139.723 125H138.523V124.35C138.163 124.78 137.613 125.11 136.813 125.11C135.813 125.11 134.933 124.54 134.933 123.48V123.46C134.933 122.29 135.843 121.73 137.073 121.73C137.713 121.73 138.123 121.82 138.533 121.95V121.85C138.533 121.12 138.073 120.72 137.233 120.72C136.643 120.72 136.203 120.85 135.723 121.05L135.393 120.08C135.973 119.82 136.543 119.64 137.403 119.64C138.963 119.64 139.723 120.46 139.723 121.87V125ZM138.553 123.09V122.79C138.243 122.67 137.813 122.58 137.343 122.58C136.583 122.58 136.133 122.89 136.133 123.4V123.42C136.133 123.92 136.583 124.2 137.153 124.2C137.953 124.2 138.553 123.75 138.553 123.09ZM141.162 125V119.72H142.372V120.91C142.702 120.12 143.312 119.58 144.242 119.62V120.9H144.172C143.112 120.9 142.372 121.59 142.372 122.99V125H141.162ZM147.063 125.09C146.173 125.09 145.543 124.7 145.543 123.54V120.76H144.873V119.72H145.543V118.27H146.753V119.72H148.173V120.76H146.753V123.35C146.753 123.82 146.993 124.01 147.403 124.01C147.673 124.01 147.913 123.95 148.153 123.83V124.82C147.853 124.99 147.513 125.09 147.063 125.09Z"
          fill="#0FA958"
        />
        <Path
          d="M51.9429 28.0541L56.8418 23.1446L51.3305 17.5338H65.9399V10.5203H51.3305L56.9293 4.90946L51.9429 0L37.9458 14.027L51.9429 28.0541ZM69.4392 70.1352C71.3638 70.1352 73.0108 69.449 74.3802 68.0767C75.7495 66.7044 76.4354 65.0527 76.4377 63.1217C76.4401 61.1906 75.7542 59.5401 74.3802 58.1701C73.0061 56.8001 71.3591 56.1128 69.4392 56.1081C67.5193 56.1035 65.8711 56.7908 64.4947 58.1701C63.1184 59.5494 62.4337 61.2 62.4407 63.1217C62.4477 65.0434 63.1324 66.695 64.4947 68.0767C65.8571 69.4584 67.5053 70.1445 69.4392 70.1352ZM34.4465 70.1352C36.3711 70.1352 38.0181 69.449 39.3875 68.0767C40.7569 66.7044 41.4427 65.0527 41.4451 63.1217C41.4474 61.1906 40.7616 59.5401 39.3875 58.1701C38.0135 56.8001 36.3665 56.1128 34.4465 56.1081C32.5266 56.1035 30.8785 56.7908 29.5021 58.1701C28.1257 59.5494 27.441 61.2 27.448 63.1217C27.455 65.0434 28.1397 66.695 29.5021 68.0767C30.8645 69.4584 32.5126 70.1445 34.4465 70.1352ZM90.4348 7.01352V0H78.9747L64.1028 31.5608H39.608L25.9608 7.01352H18L35.4088 38.5743H65.59L69.4392 45.5879H27.448V52.6014H81.2492L70.8389 33.6649L83.4363 7.01352H90.4348Z"
          fill="#0FA958"
        />
        <Path
          d="M82.6739 32.4806H107.681M86.698 43.6908H127.227M95.8961 3.44922H125.502M88.7101 13.797H137"
          stroke="#0FA958"
          stroke-width="5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </Svg>
      <Card className="h-full max-h-[85%] w-full items-center gap-4 rounded-t-[40px] bg-go_cart_green pt-10">
        <CardHeader>
          <CardTitle
            className="text-3xl tracking-[1px] text-white"
            style={{ fontFamily: "GothamBold" }}
          >
            ACTIVATE CART WITH QR CODE
          </CardTitle>
        </CardHeader>
        <CardContent>
          <QRCode
            size={300}
            color="white"
            backgroundColor="#0FA958"
            value={cart_id}
          />
        </CardContent>
        <CardFooter className="max-w-2xl">
          <Text
            className="text-center text-3xl text-white"
            style={{ fontFamily: "GothamBook" }}
          >
            Scan this with{" "}
            <Text
              className="text-3xl text-white"
              style={{ fontFamily: "GothamBold" }}
            >
              Go Cart Mobile App
            </Text>
            {"\n"} to activate!
          </Text>
        </CardFooter>
      </Card>
    </View>
  );
}
